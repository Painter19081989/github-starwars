<!DOCTYPE html>
<html>
<head>
    <title>Game of GitHub</title>
    <style>
        body {
            font-family: Helvetica;
        }
        main {
            margin: 0 auto;
            width: 70%;
        }
        .bookmarklet {
            font-weight: bold;
        }
        footer {
            width: 30em;
            margin: 1em auto;
            font-weight: lighter
        }
        video{
            -webkit-box-shadow: 0 0 6px 2px rgba(0,0,0,0.5) ;
            box-shadow: 0 0 6px 2px rgba(0,0,0,0.5) ;
            max-width: 100%;
        }
    </style>

</head>
<body>
<a href="https://github.com/stevermeister/github-starwars"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
<main>
    <h2>Github Starwars</h2>
    <p>Drag the <a href='javascript: "use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasnt been initialised - super() hasnt been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module "+o+"");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o])}return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lib_1=require("./lib");var Game_1=require("./Game");var App=function(){function App(options){_classCallCheck(this,App);var $svg=options.svg;App.initToolbar($svg);new Game_1.Game({el:$svg,score:document.querySelector(".score-game")});document.addEventListener("keypress",function(event){if(event.keyCode===13){event.preventDefault();lib_1.EventEmitter.trigger("start game")}})}_createClass(App,null,[{key:"initToolbar",value:function initToolbar(svg){var toolbar=document.createElement("div");toolbar.innerHTML="<h3 style=\"text-align: left; margin-left: 50px; float: left\" class=\"score-game\">Score: 0</h3>\n\t\t\t\t<div  style=\"float: left; background: #eee; line-height: 40px; margin-left: 50px; padding: 0 20px;\">\n\t\t\t\t\t<strong style=\"color: #ff7978\">Enter-</strong>Start Game \n\t\t\t\t\t<strong style=\"color: #ff7978\">L-</strong>Fire  \n\t\t\t\t\t<strong style=\"color: #ff7978\">W-</strong>Up  \n\t\t\t\t\t<strong style=\"color: #ff7978\">S-</strong>Down\n\t\t\t\t\t<strong style=\"color: #ff7978\">A-</strong>Left\n\t\t\t\t\t<strong style=\"color: #ff7978\">D-</strong>Right\n\t\t\t\t</div>\n\t\t\t</HTMLDivElement>";toolbar.style.cssText="\n\t\t    position: absolute;\n\t\t    top: -50px;\n\t\t    width: 100%;\n\t\t    background: #fff;\n        ";svg.parentNode.style.position="relative";svg.parentNode.appendChild(toolbar)}}]);return App}();exports.App=App},{"./Game":3,"./lib":16}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lib_1=require("./lib");var constants_1=require("./constants");var Point_1=require("./entities/Point");var EndGame=function(){function EndGame(){var _this=this;_classCallCheck(this,EndGame);lib_1.EventEmitter.on("stop game",function(data){lib_1.EventEmitter.trigger("update field of game",{text:_this._endOfTheGame(data.type)})})}_createClass(EndGame,[{key:"_endOfTheGame",value:function _endOfTheGame(endEventType){var endGameText=void 0;var currentResultText=void 0;currentResultText=endEventType==="lose"?constants_1.END_GAME_TEXT.GAME_OVER_TEXT:constants_1.END_GAME_TEXT.WIN_TEXT;endGameText=currentResultText.map(function(item){return new Point_1.Point(item)}).sort(function(){return Math.random()-0.5});return endGameText}}]);return EndGame}();exports.EndGame=EndGame},{"./constants":7,"./entities/Point":11,"./lib":16}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lib_1=require("./lib");var Processor_1=require("./Processor");var GameField_1=require("./GameField");var constants_1=require("./constants");var EndGame_1=require("./EndGame");var Game=function(){function Game(options){_classCallCheck(this,Game);this._scoreElement=options.score;this._shootTime=performance.now();this._initGameComponents(options);this.checkScore=this.checkScore.bind(this);lib_1.EventEmitter.on("update score",this.checkScore);document.addEventListener("keydown",this.checkMove.bind(this),true)}_createClass(Game,[{key:"_initGameComponents",value:function _initGameComponents(options){this._dataField=new GameField_1.GameField({list:options.el.querySelectorAll("rect")});new Processor_1.Processor({dataField:this._dataField});new EndGame_1.EndGame()}},{key:"checkScore",value:function checkScore(data){this._scoreElement.innerHTML="Score: "+data.score}},{key:"checkMove",value:function checkMove(e){var _constants_1$KEYBOARD=constants_1.KEYBOARDS_CODE,right=_constants_1$KEYBOARD.right,left=_constants_1$KEYBOARD.left,down=_constants_1$KEYBOARD.down,up=_constants_1$KEYBOARD.up,fire=_constants_1$KEYBOARD.fire;var code=e.keyCode;if(code!==fire&&code!==up&&code!==down&&code!==right&&code!==left)return;switch(code){case fire:{var now=performance.now();if((now-this._shootTime)/constants_1.SHIP.TIME_OF_DELAY_SHOTTING>=1){this._shootTime=now;lib_1.EventEmitter.trigger("fire")}break}case up:{lib_1.EventEmitter.trigger("move",{direction:"up"});break}case right:{lib_1.EventEmitter.trigger("move",{direction:"right"});break}case left:{lib_1.EventEmitter.trigger("move",{direction:"left"});break}case down:{lib_1.EventEmitter.trigger("move",{direction:"down"});break}}e.preventDefault();e.stopPropagation()}}]);return Game}();exports.Game=Game},{"./EndGame":2,"./GameField":4,"./Processor":5,"./constants":7,"./lib":16}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var constants_1=require("./constants");var GameField=function(){function GameField(options){_classCallCheck(this,GameField);this._dataField=this._initData(options.list)}_createClass(GameField,[{key:"_initData",value:function _initData(rectList){var result=[];for(var j=0;j<rectList.length;j++){result.push({el:rectList[j],index:j})}return result}},{key:"render",value:function render(currentState){this._clearData();var currentField=this._checkVisiblePositions(currentState);this._dataField.forEach(function(elem){currentField.forEach(function(item){if(elem.index===item.x*constants_1.FIELD_SIZE.columnLength+item.y){elem.el.style.fill=item.color}})})}},{key:"endRender",value:function endRender(currentState){var self=this;var index=0;this._clearData();setTimeout(function run(){var item=currentState[index];self._dataField.forEach(function(elem){if(elem.index===item.x*constants_1.FIELD_SIZE.columnLength+item.y){elem.el.style.fill=item.color}});index++;if(index!==currentState.length)setTimeout(run.bind(this),10)}.bind(this),10)}},{key:"_clearData",value:function _clearData(){this._dataField.forEach(function(elem){elem.el.style.fill="#eee"})}},{key:"getLenghtofData",value:function getLenghtofData(){return this._dataField.length}},{key:"_checkVisiblePositions",value:function _checkVisiblePositions(currentState){return currentState.filter(function(point){return point.x>=constants_1.FIELD_SIZE.leftX&&point.x<=constants_1.FIELD_SIZE.rightX&&point.y>=constants_1.FIELD_SIZE.topY&&point.y<=constants_1.FIELD_SIZE.bottomY})}}]);return GameField}();exports.GameField=GameField},{"./constants":7}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lib_1=require("./lib");var index_1=require("./entities/index");var ProcessorForState_1=require("./ProcessorForState");var constants_1=require("./constants");var Processor=function(){function Processor(options){var _this2=this;_classCallCheck(this,Processor);this._isStopGame=false;this._energyTypes=[];this._score=0;this._energyParams={};Object.keys(constants_1.START_ENERGY_PARAMS).forEach(function(key){_this2._energyParams[key]=Object.assign({},constants_1.START_ENERGY_PARAMS[key]);_this2._energyTypes.push(key)});this._dataField=options.dataField;this._lengthOfField=this._dataField.getLenghtofData();this._processorState=new ProcessorForState_1.ProcessorForState({types:this._energyTypes});lib_1.EventEmitter.on("fire",function(){if(!_this2._isStopGame&&_this2._processorState.get().spaceshipBullet.length<5){_this2._shot("spaceshipBullet")}});lib_1.EventEmitter.on("move",function(data){_this2._energyParams.spaceship.direction=constants_1.SHIP.SPACE_SHIP_DIRECTION[data.direction]});lib_1.EventEmitter.on("start game",function(){_this2._prepareGameFieldToStart();_this2._startProcess()});lib_1.EventEmitter.on("update field of game",function(data){_this2._dataField.endRender(data.text);_this2._isStopGame=true})}_createClass(Processor,[{key:"_prepareGameFieldToStart",value:function _prepareGameFieldToStart(){this._dataField.render([]);lib_1.EventEmitter.trigger("update score",{score:0});this._energyParams["enemy"].duration=constants_1.START_ENERGY_PARAMS.enemy.duration;this._score=0;this._processorState.clear();clearInterval(this._timer);if(this._isStopGame)this._isStopGame=false}},{key:"_startProcess",value:function _startProcess(){this._spaceShip=this._createSpaceShip();this._timer=this._generateEvil();this._processorState.add({type:"spaceship",instance:this._spaceShip});var self=this;requestAnimationFrame(function __animateLoop(){if(self._isStopGame)return;var _self$_moveAllEntitie=self._moveAllEntities(),moved=_self$_moveAllEntitie.moved,all=_self$_moveAllEntitie.all;self._draw(all);self._prepareNextStep(all,moved);self._energyParams.spaceship.direction={x:0,y:0};requestAnimationFrame(__animateLoop)})}},{key:"_createSpaceShip",value:function _createSpaceShip(){return new index_1.Spaceship({colaider:constants_1.SHIP.START_SHIP_POSITION.map(function(item){return new index_1.Point(item)})})}},{key:"_createEnemyShip",value:function _createEnemyShip(){var _generateColaider2=this._generateColaider(),x=_generateColaider2.x,y=_generateColaider2.y;return new index_1.Enemyship({colaider:[new index_1.Point({type:"body",x:x,y:y,color:"green"}),new index_1.Point({type:"body",x:x+1,y:y,color:"green"})]})}},{key:"_generateEvil",value:function _generateEvil(){var _this3=this;var timer=setInterval(function(){_this3._processorState.add({type:"enemy",instance:_this3._createEnemyShip()})},1000);return timer}},{key:"_prepareForStarOfDeath",value:function _prepareForStarOfDeath(){var _this4=this;clearInterval(this._timer);this._processorState.clearFotStarOfDeath();this._generateStarOfDeath();this._timer=setInterval(function(){_this4._shot("enemyBullet")},800)}},{key:"_moveAllEntities",value:function _moveAllEntities(){var _this5=this;var entities=this._processorState.get();var movedEntities={};this._energyTypes.forEach(function(key){if(key=="spaceship"){var tailPosition=_this5._spaceShip.colaider.reduce(function(min,item){return min.x<item.x?min:item});var gunPosition=[];_this5._spaceShip.colaider.forEach(function(item){if(item.type==="gun")gunPosition.push(item)});var y=_this5._energyParams.spaceship.direction.y;var x=_this5._energyParams.spaceship.direction.x;for(var i=0;i<gunPosition.length;i++){if(gunPosition[i].y===constants_1.FIELD_SIZE.bottomY&&y>0||gunPosition[i].y===constants_1.FIELD_SIZE.topY&&y<0||tailPosition.x===constants_1.FIELD_SIZE.leftX&&x<0||gunPosition[i].x===constants_1.FIELD_SIZE.rightX&&x>0){return}}}entities[key].forEach(function(entity){var moved=entity.move(_this5._energyParams[key]);if(moved){movedEntities[key]?movedEntities[key].push(entity):movedEntities[key]=[entity]}})});return{moved:movedEntities,all:entities}}},{key:"_checkCriticalPoint",value:function _checkCriticalPoint(key,entity,entities){var _this6=this;switch(key){case"spaceship":{this.checkCrash(entities["enemy"],entity);this.checkCrash(entities["enemyBullet"],entity);this.checkCrash(entities["starOfDeath"],entity);if(entity.removed){this._settingsToStopGame();this._resultOfAction("lose")}break}case"spaceshipBullet":{this.checkCrash(entities["enemy"],entity);this.checkCrash(entities["enemyBullet"],entity);if(entity.removed){this._resultOfAction("kill");return}entities["starOfDeath"].forEach(function(item){if(item.checkPosition(entity.colaider)){entity.removed=true}if(entity.checkPosition(item.getAimColider())){_this6._resultOfAction("win")}});if(entity.colaider[0].x>=constants_1.FIELD_SIZE.rightX)entity.removed=true;break}case"enemy":{this.checkCrash(entities["spaceshipBullet"],entity);this.checkCrash(entities["spaceship"],entity);if(entity.removed){this._resultOfAction("kill");return}if(this._spaceShip.removed){this._resultOfAction("lose")}var isInField=entity.colaider.filter(function(point){return point.x>constants_1.FIELD_SIZE.leftX});if(!isInField.length)entity.removed=true;break}case"enemyBullet":{this.checkCrash(entities["spaceshipBullet"],entity);this.checkCrash(entities["spaceship"],entity);if(entity.colaider.x<constants_1.FIELD_SIZE.leftX)entity.removed=true;break}case"starOfDeath":{this.checkCrash(entities["spaceship"],entity);if(entity.getGunCordinates().x<constants_1.FIELD_SIZE.leftX)entity.removed=true;entities["spaceshipBullet"].forEach(function(bullet){if(bullet.checkPosition(entity.colaider)){bullet.removed=true}if(bullet.checkPosition(entity.getAimColider())){_this6._resultOfAction("win")}})}}}},{key:"_resultOfAction",value:function _resultOfAction(type){switch(type){case"lose":{lib_1.EventEmitter.trigger("stop game",{type:"lose"});break}case"win":{lib_1.EventEmitter.trigger("stop game",{type:"win"});break}case"kill":{this._checkScore()}}}},{key:"checkCrash",value:function checkCrash(entities,currentEntity){entities.forEach(function(entity){if(entity.checkPosition(currentEntity.colaider)){entity.removed=true;currentEntity.removed=true}})}},{key:"_draw",value:function _draw(arr){var current=[];this._energyTypes.forEach(function(entityType){arr[entityType].forEach(function(item){current.push(item.colaider)})});var result=lib_1.concatAll(current);this._dataField.render(result)}},{key:"_prepareNextStep",value:function _prepareNextStep(all,moved){var _this7=this;this._energyTypes.forEach(function(entityType){if(moved[entityType]){moved[entityType].forEach(function(entity){_this7._checkCriticalPoint(entityType,entity,all)})}});this._updateState(all)}},{key:"_settingsToStopGame",value:function _settingsToStopGame(){clearInterval(this._timer);this._processorState.clear();this._isStopGame=true}},{key:"_updateState",value:function _updateState(all){var newState={};this._energyTypes.forEach(function(type){newState[type]=all[type].filter(function(entity){return!entity.removed})});this._processorState.update(newState)}},{key:"_shot",value:function _shot(type){var _this8=this;switch(type){case"spaceshipBullet":{this._spaceShip.getGunCordinates().forEach(function(item){var colaider={x:item.x+1,y:item.y,color:"#f00",type:"body"};_this8._processorState.add({type:"spaceshipBullet",instance:new index_1.Bullet({colaider:[new index_1.Point(colaider)]})})});break}case"enemyBullet":{this._starOfDeath.getGunCordinates().forEach(function(item){var colaider={x:item.x-2,y:item.y,color:"#eecb0f",type:"body"};_this8._processorState.add({type:"enemyBullet",instance:new index_1.Bullet({colaider:[new index_1.Point(colaider)]})})});break}}}},{key:"_generateColaider",value:function _generateColaider(){var evilXStartPoint=constants_1.FIELD_SIZE.rightX;var lastColumnLength=constants_1.FIELD_SIZE.maxLength-this._lengthOfField;var evilYStartPoint=Math.round(Math.random()*(constants_1.FIELD_SIZE.bottomY-constants_1.FIELD_SIZE.topY)+constants_1.FIELD_SIZE.topY);if(evilYStartPoint>=lastColumnLength)evilXStartPoint--;return{x:evilXStartPoint,y:evilYStartPoint}}},{key:"_generateStarOfDeath",value:function _generateStarOfDeath(){this._starOfDeath=new index_1.StarOfDeath({colaider:constants_1.STAR_OF_DEATH_POSITION.map(function(item){return new index_1.Point(item)})});this._processorState.add({type:"starOfDeath",instance:this._starOfDeath})}},{key:"_checkScore",value:function _checkScore(){this._score+=10;lib_1.EventEmitter.trigger("update score",{score:this._score});if(this._score===600){this._prepareForStarOfDeath()}else if(this._score % 100===0){var currentSpeed=this._energyParams.enemy.duration;this._energyParams.enemy.duration=currentSpeed*this._changeDifficulty(this._score)}}},{key:"_changeDifficulty",value:function _changeDifficulty(score){return 1-Math.floor(score/100)/10}}]);return Processor}();exports.Processor=Processor},{"./ProcessorForState":6,"./constants":7,"./entities/index":14,"./lib":16}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ProcessorForState=function(){function ProcessorForState(options){var _this9=this;_classCallCheck(this,ProcessorForState);this._currentState={};options.types.forEach(function(type){_this9._currentState[type]=[]})}_createClass(ProcessorForState,[{key:"add",value:function add(params){this._currentState[params.type].push(params.instance)}},{key:"get",value:function get(){return this._currentState}},{key:"update",value:function update(newstate){this._currentState=newstate}},{key:"clear",value:function clear(){var _this10=this;Object.keys(this._currentState).forEach(function(type){_this10._currentState[type]=[]})}},{key:"clearFotStarOfDeath",value:function clearFotStarOfDeath(){var _this11=this;Object.keys(this._currentState).forEach(function(type){if(type!="starOfDeath"&&type!="spaceship")_this11._currentState[type]=[]})}}]);return ProcessorForState}();exports.ProcessorForState=ProcessorForState},{}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var KEYBOARDS_CODE={right:68,left:65,down:83,up:87,fire:76};exports.KEYBOARDS_CODE=KEYBOARDS_CODE;var FIELD_SIZE={leftX:0,rightX:52,topY:0,bottomY:6,columnLength:7,maxLength:370};exports.FIELD_SIZE=FIELD_SIZE;var START_ENERGY_PARAMS={"enemy":{direction:{x:-1,y:0},duration:200},"spaceshipBullet":{direction:{x:1,y:0},duration:60},"enemyBullet":{direction:{x:-1,y:0},duration:70},"spaceship":{direction:{x:0,y:0},duration:0},"starOfDeath":{direction:{x:-1,y:0},duration:500}};exports.START_ENERGY_PARAMS=START_ENERGY_PARAMS;var SHIP={START_SHIP_POSITION:[{type:"body",x:0,y:2,color:"#00f"},{type:"body",x:0,y:3,color:"#00f"},{type:"body",x:0,y:4,color:"#00f"},{type:"gun",x:1,y:3,color:"#00f"}],SPACE_SHIP_DIRECTION:{right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},TIME_OF_DELAY_SHOTTING:300};exports.SHIP=SHIP;var END_GAME_TEXT={GAME_OVER_TEXT:[{x:1,y:0,color:"green",type:"body"},{x:2,y:0,color:"green",type:"body"},{x:3,y:0,color:"green",type:"body"},{x:9,y:0,color:"green",type:"body"},{x:14,y:0,color:"green",type:"body"},{x:18,y:0,color:"green",type:"body"},{x:20,y:0,color:"green",type:"body"},{x:21,y:0,color:"green",type:"body"},{x:22,y:0,color:"green",type:"body"},{x:27,y:0,color:"green",type:"body"},{x:28,y:0,color:"green",type:"body"},{x:29,y:0,color:"green",type:"body"},{x:32,y:0,color:"green",type:"body"},{x:36,y:0,color:"green",type:"body"},{x:38,y:0,color:"green",type:"body"},{x:39,y:0,color:"green",type:"body"},{x:40,y:0,color:"green",type:"body"},{x:42,y:0,color:"green",type:"body"},{x:43,y:0,color:"green",type:"body"},{x:44,y:0,color:"green",type:"body"},{x:1,y:1,color:"green",type:"body"},{x:8,y:1,color:"green",type:"body"},{x:10,y:1,color:"green",type:"body"},{x:14,y:1,color:"green",type:"body"},{x:15,y:1,color:"green",type:"body"},{x:17,y:1,color:"green",type:"body"},{x:18,y:1,color:"green",type:"body"},{x:20,y:1,color:"green",type:"body"},{x:26,y:1,color:"green",type:"body"},{x:30,y:1,color:"green",type:"body"},{x:32,y:1,color:"green",type:"body"},{x:36,y:1,color:"green",type:"body"},{x:38,y:1,color:"green",type:"body"},{x:42,y:1,color:"green",type:"body"},{x:45,y:1,color:"green",type:"body"},{x:1,y:2,color:"green",type:"body"},{x:8,y:2,color:"green",type:"body"},{x:10,y:2,color:"green",type:"body"},{x:14,y:2,color:"green",type:"body"},{x:16,y:2,color:"green",type:"body"},{x:18,y:2,color:"green",type:"body"},{x:20,y:2,color:"green",type:"body"},{x:26,y:2,color:"green",type:"body"},{x:30,y:2,color:"green",type:"body"},{x:32,y:2,color:"green",type:"body"},{x:36,y:2,color:"green",type:"body"},{x:38,y:2,color:"green",type:"body"},{x:42,y:2,color:"green",type:"body"},{x:45,y:2,color:"green",type:"body"},{x:1,y:3,color:"green",type:"body"},{x:3,y:3,color:"green",type:"body"},{x:4,y:3,color:"green",type:"body"},{x:7,y:3,color:"green",type:"body"},{x:11,y:3,color:"green",type:"body"},{x:14,y:3,color:"green",type:"body"},{x:18,y:3,color:"green",type:"body"},{x:20,y:3,color:"green",type:"body"},{x:21,y:3,color:"green",type:"body"},{x:22,y:3,color:"green",type:"body"},{x:26,y:3,color:"green",type:"body"},{x:30,y:3,color:"green",type:"body"},{x:32,y:3,color:"green",type:"body"},{x:36,y:3,color:"green",type:"body"},{x:38,y:3,color:"green",type:"body"},{x:39,y:3,color:"green",type:"body"},{x:40,y:3,color:"green",type:"body"},{x:42,y:3,color:"green",type:"body"},{x:43,y:3,color:"green",type:"body"},{x:44,y:3,color:"green",type:"body"},{x:1,y:4,color:"green",type:"body"},{x:4,y:4,color:"green",type:"body"},{x:7,y:4,color:"green",type:"body"},{x:8,y:4,color:"green",type:"body"},{x:9,y:4,color:"green",type:"body"},{x:10,y:4,color:"green",type:"body"},{x:11,y:4,color:"green",type:"body"},{x:14,y:4,color:"green",type:"body"},{x:18,y:4,color:"green",type:"body"},{x:20,y:4,color:"green",type:"body"},{x:26,y:4,color:"green",type:"body"},{x:30,y:4,color:"green",type:"body"},{x:32,y:4,color:"green",type:"body"},{x:36,y:4,color:"green",type:"body"},{x:38,y:4,color:"green",type:"body"},{x:42,y:4,color:"green",type:"body"},{x:43,y:4,color:"green",type:"body"},{x:1,y:5,color:"green",type:"body"},{x:4,y:5,color:"green",type:"body"},{x:6,y:5,color:"green",type:"body"},{x:12,y:5,color:"green",type:"body"},{x:14,y:5,color:"green",type:"body"},{x:18,y:5,color:"green",type:"body"},{x:20,y:5,color:"green",type:"body"},{x:26,y:5,color:"green",type:"body"},{x:30,y:5,color:"green",type:"body"},{x:33,y:5,color:"green",type:"body"},{x:35,y:5,color:"green",type:"body"},{x:38,y:5,color:"green",type:"body"},{x:42,y:5,color:"green",type:"body"},{x:44,y:5,color:"green",type:"body"},{x:1,y:6,color:"green",type:"body"},{x:2,y:6,color:"green",type:"body"},{x:3,y:6,color:"green",type:"body"},{x:4,y:6,color:"green",type:"body"},{x:6,y:6,color:"green",type:"body"},{x:12,y:6,color:"green",type:"body"},{x:14,y:6,color:"green",type:"body"},{x:18,y:6,color:"green",type:"body"},{x:20,y:6,color:"green",type:"body"},{x:21,y:6,color:"green",type:"body"},{x:22,y:6,color:"green",type:"body"},{x:27,y:6,color:"green",type:"body"},{x:28,y:6,color:"green",type:"body"},{x:29,y:6,color:"green",type:"body"},{x:34,y:6,color:"green",type:"body"},{x:38,y:6,color:"green",type:"body"},{x:39,y:6,color:"green",type:"body"},{x:40,y:6,color:"green",type:"body"},{x:42,y:6,color:"green",type:"body"},{x:45,y:6,color:"green",type:"body"},{x:47,y:6,color:"green",type:"body"},{x:49,y:6,color:"green",type:"body"},{x:51,y:6,color:"green",type:"body"}],WIN_TEXT:[{x:2,y:0,color:"green",type:"body"},{x:6,y:0,color:"green",type:"body"},{x:9,y:0,color:"green",type:"body"},{x:10,y:0,color:"green",type:"body"},{x:11,y:0,color:"green",type:"body"},{x:14,y:0,color:"green",type:"body"},{x:18,y:0,color:"green",type:"body"},{x:23,y:0,color:"green",type:"body"},{x:26,y:0,color:"green",type:"body"},{x:29,y:0,color:"green",type:"body"},{x:31,y:0,color:"green",type:"body"},{x:32,y:0,color:"green",type:"body"},{x:33,y:0,color:"green",type:"body"},{x:34,y:0,color:"green",type:"body"},{x:35,y:0,color:"green",type:"body"},{x:37,y:0,color:"green",type:"body"},{x:43,y:0,color:"green",type:"body"},{x:46,y:0,color:"green",type:"body"},{x:48,y:0,color:"green",type:"body"},{x:50,y:0,color:"green",type:"body"},{x:2,y:1,color:"green",type:"body"},{x:6,y:1,color:"green",type:"body"},{x:8,y:1,color:"green",type:"body"},{x:12,y:1,color:"green",type:"body"},{x:14,y:1,color:"green",type:"body"},{x:18,y:1,color:"green",type:"body"},{x:23,y:1,color:"green",type:"body"},{x:26,y:1,color:"green",type:"body"},{x:29,y:1,color:"green",type:"body"},{x:33,y:1,color:"green",type:"body"},{x:37,y:1,color:"green",type:"body"},{x:38,y:1,color:"green",type:"body"},{x:43,y:1,color:"green",type:"body"},{x:46,y:1,color:"green",type:"body"},{x:48,y:1,color:"green",type:"body"},{x:50,y:1,color:"green",type:"body"},{x:3,y:2,color:"green",type:"body"},{x:5,y:2,color:"green",type:"body"},{x:8,y:2,color:"green",type:"body"},{x:12,y:2,color:"green",type:"body"},{x:14,y:2,color:"green",type:"body"},{x:18,y:2,color:"green",type:"body"},{x:23,y:2,color:"green",type:"body"},{x:26,y:2,color:"green",type:"body"},{x:29,y:2,color:"green",type:"body"},{x:33,y:2,color:"green",type:"body"},{x:37,y:2,color:"green",type:"body"},{x:39,y:2,color:"green",type:"body"},{x:43,y:2,color:"green",type:"body"},{x:46,y:2,color:"green",type:"body"},{x:48,y:2,color:"green",type:"body"},{x:50,y:2,color:"green",type:"body"},{x:4,y:3,color:"green",type:"body"},{x:8,y:3,color:"green",type:"body"},{x:12,y:3,color:"green",type:"body"},{x:14,y:3,color:"green",type:"body"},{x:18,y:3,color:"green",type:"body"},{x:23,y:3,color:"green",type:"body"},{x:26,y:3,color:"green",type:"body"},{x:29,y:3,color:"green",type:"body"},{x:33,y:3,color:"green",type:"body"},{x:37,y:3,color:"green",type:"body"},{x:40,y:3,color:"green",type:"body"},{x:43,y:3,color:"green",type:"body"},{x:46,y:3,color:"green",type:"body"},{x:48,y:3,color:"green",type:"body"},{x:50,y:3,color:"green",type:"body"},{x:4,y:4,color:"green",type:"body"},{x:8,y:4,color:"green",type:"body"},{x:12,y:4,color:"green",type:"body"},{x:14,y:4,color:"green",type:"body"},{x:18,y:4,color:"green",type:"body"},{x:23,y:4,color:"green",type:"body"},{x:26,y:4,color:"green",type:"body"},{x:29,y:4,color:"green",type:"body"},{x:33,y:4,color:"green",type:"body"},{x:37,y:4,color:"green",type:"body"},{x:41,y:4,color:"green",type:"body"},{x:43,y:4,color:"green",type:"body"},{x:46,y:4,color:"green",type:"body"},{x:48,y:4,color:"green",type:"body"},{x:50,y:4,color:"green",type:"body"},{x:4,y:5,color:"green",type:"body"},{x:8,y:5,color:"green",type:"body"},{x:12,y:5,color:"green",type:"body"},{x:15,y:5,color:"green",type:"body"},{x:17,y:5,color:"green",type:"body"},{x:18,y:5,color:"green",type:"body"},{x:24,y:5,color:"green",type:"body"},{x:26,y:5,color:"green",type:"body"},{x:28,y:5,color:"green",type:"body"},{x:33,y:5,color:"green",type:"body"},{x:37,y:5,color:"green",type:"body"},{x:42,y:5,color:"green",type:"body"},{x:43,y:5,color:"green",type:"body"},{x:4,y:6,color:"green",type:"body"},{x:9,y:6,color:"green",type:"body"},{x:10,y:6,color:"green",type:"body"},{x:11,y:6,color:"green",type:"body"},{x:16,y:6,color:"green",type:"body"},{x:18,y:6,color:"green",type:"body"},{x:19,y:6,color:"green",type:"body"},{x:25,y:6,color:"green",type:"body"},{x:27,y:6,color:"green",type:"body"},{x:31,y:6,color:"green",type:"body"},{x:32,y:6,color:"green",type:"body"},{x:33,y:6,color:"green",type:"body"},{x:34,y:6,color:"green",type:"body"},{x:35,y:6,color:"green",type:"body"},{x:37,y:6,color:"green",type:"body"},{x:43,y:6,color:"green",type:"body"},{x:46,y:6,color:"green",type:"body"},{x:48,y:6,color:"green",type:"body"},{x:50,y:6,color:"green",type:"body"}]};exports.END_GAME_TEXT=END_GAME_TEXT;var STAR_OF_DEATH_POSITION=[{type:"body",x:54,y:1,color:"black"},{type:"body",x:55,y:1,color:"black"},{type:"body",x:53,y:2,color:"black"},{type:"body",x:54,y:2,color:"black"},{type:"body",x:55,y:2,color:"black"},{type:"body",x:56,y:2,color:"black"},{type:"body",x:52,y:3,color:"black"},{type:"body",x:53,y:3,color:"black"},{type:"body",x:54,y:3,color:"black"},{type:"body",x:55,y:3,color:"black"},{type:"body",x:56,y:3,color:"black"},{type:"gun",x:57,y:3,color:"black"},{type:"body",x:53,y:4,color:"black"},{type:"body",x:54,y:4,color:"black"},{type:"body",x:55,y:4,color:"black"},{type:"body",x:56,y:4,color:"black"},{type:"body",x:54,y:5,color:"black"},{type:"body",x:55,y:5,color:"black"}];exports.STAR_OF_DEATH_POSITION=STAR_OF_DEATH_POSITION},{}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Energy_1=require("./Energy");var Bullet=function(_Energy_1$Energy){_inherits(Bullet,_Energy_1$Energy);function Bullet(options){_classCallCheck(this,Bullet);return _possibleConstructorReturn(this,(Bullet.__proto__||Object.getPrototypeOf(Bullet)).call(this,options))}return Bullet}(Energy_1.Energy);exports.Bullet=Bullet},{"./Energy":10}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Energy_1=require("./Energy");var Enemyship=function(_Energy_1$Energy2){_inherits(Enemyship,_Energy_1$Energy2);function Enemyship(options){_classCallCheck(this,Enemyship);return _possibleConstructorReturn(this,(Enemyship.__proto__||Object.getPrototypeOf(Enemyship)).call(this,options))}return Enemyship}(Energy_1.Energy);exports.Enemyship=Enemyship},{"./Energy":10}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Energy=function(){function Energy(options){_classCallCheck(this,Energy);this.colaider=options.colaider;this._time=performance.now();this.removed=false}_createClass(Energy,[{key:"move",value:function move(params){var direction=params.direction,duration=params.duration;var timeNow=performance.now();if((timeNow-this._time)/duration<1)return;this.colaider.forEach(function(point){return point.movePoint(direction)});this._time=timeNow;return true}},{key:"checkPosition",value:function checkPosition(colaider){var _this14=this;var res=false;colaider.forEach(function(point1){_this14.colaider.forEach(function(point2){if(point1.isSame(point2))res=true})});return res}}]);return Energy}();exports.Energy=Energy},{}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Point=function(){function Point(options){_classCallCheck(this,Point);this.type=options.type;this.x=options.x;this.y=options.y;this.color=options.color}_createClass(Point,[{key:"isSame",value:function isSame(colaider){return this.x===colaider.x&&this.y===colaider.y}},{key:"movePoint",value:function movePoint(direction){this.x+=direction.x;this.y+=direction.y}}]);return Point}();exports.Point=Point},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Energy_1=require("./Energy");var Spaceship=function(_Energy_1$Energy3){_inherits(Spaceship,_Energy_1$Energy3);function Spaceship(options){_classCallCheck(this,Spaceship);return _possibleConstructorReturn(this,(Spaceship.__proto__||Object.getPrototypeOf(Spaceship)).call(this,options))}_createClass(Spaceship,[{key:"getGunCordinates",value:function getGunCordinates(){return this.colaider.filter(function(item){return item.type==="gun"})}}]);return Spaceship}(Energy_1.Energy);exports.Spaceship=Spaceship},{"./Energy":10}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Energy_1=require("./Energy");var StarOfDeath=function(_Energy_1$Energy4){_inherits(StarOfDeath,_Energy_1$Energy4);function StarOfDeath(options){_classCallCheck(this,StarOfDeath);var _this16=_possibleConstructorReturn(this,(StarOfDeath.__proto__||Object.getPrototypeOf(StarOfDeath)).call(this,options));_this16._initAim();return _this16}_createClass(StarOfDeath,[{key:"_initAim",value:function _initAim(){setTimeout(function run(){this._generateAim(this.colaider);setTimeout(run.bind(this),400)}.bind(this),400)}},{key:"_generateAim",value:function _generateAim(starOfDeathColaider){var aimCoords=this._generateAimColaider(starOfDeathColaider);starOfDeathColaider.forEach(function(item){if(item.type==="aim"){item.type="body";item.color="#000"}if(item.x===aimCoords.x&&item.y===aimCoords.y){item.color="#f00";item.type="aim"}})}},{key:"_generateAimColaider",value:function _generateAimColaider(starOfDeathColaider){var bottomPointY=starOfDeathColaider.reduce(function(max,item){return max.y>item.y?max:item});var topPointY=starOfDeathColaider.reduce(function(min,item){return min.y<item.y?min:item});var aimY=Math.round(Math.random()*(bottomPointY.y-topPointY.y)+topPointY.y);var aimX=starOfDeathColaider.filter(function(item){return item.y===aimY}).reduce(function(min,item){return min.x<item.x?min:item}).x;return{x:aimX,y:aimY}}},{key:"getGunCordinates",value:function getGunCordinates(){return this.colaider.filter(function(item){return item.type==="gun"})}},{key:"getAimColider",value:function getAimColider(){return this.colaider.filter(function(item){return item.type==="aim"})}}]);return StarOfDeath}(Energy_1.Energy);exports.StarOfDeath=StarOfDeath},{"./Energy":10}],14:[function(require,module,exports){"use strict";function __export(m){for(var p in m){if(!exports.hasOwnProperty(p))exports[p]=m[p]}}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./Point"));__export(require("./Spaceship"));__export(require("./Bullet"));__export(require("./Energy"));__export(require("./Enemyship"));__export(require("./StarOfDeath"))},{"./Bullet":8,"./Enemyship":9,"./Energy":10,"./Point":11,"./Spaceship":12,"./StarOfDeath":13}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var App_1=require("./App");var app=new App_1.App({svg:document.querySelector(".js-calendar-graph-svg")})},{"./App":1}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var EventEmitter={"subscribers":{},"on":function on(event,cb){var eventType=event||"default";if(!this.subscribers[eventType]){this.subscribers[eventType]=[]}this.subscribers[eventType].push(cb)},"off":function off(event,cb){if(this.subscribers[event]){this.subscribers[event]=this.subscribers[event].filter(function(item){return cb!==item})}else{console.error(event+" not found!")}},"trigger":function trigger(event){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var sub=this.subscribers[event];if(sub){for(var i=0,len=sub.length;i<len;i++){sub[i](options)}}else{console.log("EE.trigger: not found subscribers for "+event+" event")}},"offAll":function offAll(event){if(this.subscribers[event]){this.subscribers[event]=[]}}};exports.EventEmitter=EventEmitter;function throttle(func,ms){var state=false,arg=null,context=null;return function time(){if(state){arg=arguments;context=this;return}state=true;func.call(this);setTimeout(function(){state=false;if(arg){time.call(context);context=null;arg=null}},ms)}}exports.throttle=throttle;function concatAll(array){var results=[];array.forEach(function(subArray){results.push.apply(results,subArray)});return results}exports.concatAll=concatAll},{}]},{},[15]);void(0);'>Github Starwars</a>

        bookmarklet to your bookmarks bar.</p>
    <p> <video src="http://forjob.esy.es/vid.mp4"  loop autoplay muted></video></p>
    <footer>Brought to you by
        <a href="https://twitter.com/stevermeister">@stevermeister</a>
        from <a href="http://stepansuvorov.com">http://stepansuvorov.com</a>
        inspired by <a href="https://twitter.com/bahmutov">@bahmutov</a>
    </footer>
</main>
</body>
</html>